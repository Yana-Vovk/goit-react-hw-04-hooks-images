(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={ImageGalleryItem:"_2Kpi2vEcvJOOEAXOyRMGTc",ImageGalleryItemImage:"_2BejwE9Rd3yEdXb2aBycRj"}},12:function(e,t,n){e.exports={Overlay:"_2nBOynerxnBQcZpCB7FLW-",Modal:"_2iAtACXDLuQMU_7cCdsFgc"}},23:function(e,t,n){e.exports={ImageGallery:"_3qxpcvEbhJA_mVUY19fRPZ"}},24:function(e,t,n){e.exports={Button:"cJ6x6a7mVGzdZ1TvOojRf"}},26:function(e,t,n){e.exports={loader:"RdwiQeGY6ItGTUNCtezO3"}},31:function(e,t,n){},32:function(e,t,n){},5:function(e,t,n){e.exports={Searchbar:"Q9gjx1RHRv8-v6Bmj3Py5",SearchForm:"_31Y9Jq9n0whv_krAKNZjZR",SearchFormButton:"_3H7Owfo8GRxFPLkZsRZmCG",SearchFormButtonLabel:"_2sTXJ1DM4T_yHgB6tB0kkP",SearchFormInput:"_3mECDT_f_jsjqutog-Yk_g"}},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(7),r=n.n(o),i=(n(31),n(4)),u=(n(32),n(5)),s=n.n(u),l=n(1);function j(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],r=a[1],u=function(){r("")};return Object(l.jsx)("header",{className:s.a.Searchbar,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o),u()},className:s.a.SearchForm,children:[Object(l.jsx)("button",{type:"submit",className:s.a.SearchFormButton,children:Object(l.jsx)("span",{className:s.a.SearchFormButtonLabel,children:"Search"})}),Object(l.jsx)("input",{className:s.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value)}})]})})}var b=n(13),m=n(11),f=n.n(m),d=function(e){var t=e.webformatURL,n=e.onToggleModal,c=e.largeImageURL;return Object(l.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(l.jsx)("img",{src:t,alt:"",className:f.a.ImageGalleryItemImage,onClick:function(){return n(c)}})})},h=n(22),O=n.n(h),g=function(e){var t=e.query,n=void 0===t?"":t,c=e.currentPage,a=void 0===c?1:c,o=e.pageSize,r=void 0===o?12:o;return O.a.get("https://pixabay.com/api/?q=".concat(n,"&page=").concat(a,"&key=").concat("21320653-fe4a570a23bb891fd74acd9f9","&image_type=photo&orientation=horizontal&per_page=").concat(r)).then((function(e){return e.data.hits}))},p=n(23),v=n.n(p),x=n(12),y=n.n(x),S=document.querySelector("#modal-root");function w(e){var t=e.children,n=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&n()};return Object(o.createPortal)(Object(l.jsx)("div",{className:y.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(l.jsxs)("div",{className:y.a.Modal,children:[t,Object(l.jsx)("img",{src:"",alt:""})]})}),S)}var I=n(24),C=n.n(I),L=function(e){var t=e.onClick;e.isLoading;return Object(l.jsx)("button",{type:"button",className:C.a.Button,onClick:t,children:"Load more"})},_=(n(53),n(25)),k=n.n(_),R=n(26),B=n.n(R);function F(){return Object(l.jsx)(k.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100,className:B.a.loader})}function T(e){var t=e.query,n=Object(c.useState)([]),a=Object(i.a)(n,2),o=a[0],r=a[1],u=Object(c.useState)(1),s=Object(i.a)(u,2),j=s[0],m=s[1],f=Object(c.useState)(!1),h=Object(i.a)(f,2),O=h[0],p=h[1],x=Object(c.useState)(!1),y=Object(i.a)(x,2),S=y[0],I=y[1],C=Object(c.useState)(""),_=Object(i.a)(C,2),k=_[0],R=_[1],B=Object(c.useState)(""),T=Object(i.a)(B,2),E=T[0],N=T[1];Object(c.useEffect)((function(){""===t?(console.log("true prevState !== query"),m(1),r([]),N(null)):(console.log("false prevState !== query"),G())}),[t]),Object(c.useLayoutEffect)((function(e){e!==j&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[j]);var G=function(){p(!0),g({query:t,currentPage:j}).then((function(e){r((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))})),m((function(e){return e+1}))})).catch((function(){return N(E)})).finally((function(){return p(!1)}))},q=function(){I(!S)},P=function(e){q(),R(e)},U=o.length>0&&!O;return Object(l.jsxs)("div",{children:[E&&Object(l.jsx)("h1",{children:"Try again"}),Object(l.jsx)("ul",{className:v.a.ImageGallery,children:o.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(l.jsx)(d,{webformatURL:n,onToggleModal:P,largeImageURL:c},t)}))}),O&&Object(l.jsx)(F,{}),U&&Object(l.jsx)(L,{onClick:G}),S&&Object(l.jsx)(w,{onClose:q,children:Object(l.jsx)("img",{src:k,alt:"",style:{width:900}})})]})}function E(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{onSubmit:function(e){a(e)}}),Object(l.jsx)(T,{query:n})]})}var N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root")),N()}},[[74,1,2]]]);
//# sourceMappingURL=main.5e192d12.chunk.js.map